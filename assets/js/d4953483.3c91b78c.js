"use strict";(self.webpackChunkrefactoring=self.webpackChunkrefactoring||[]).push([[581],{4797:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(7294),r="title_aw9g",o="authors_D0Uc",l="author_wC7X",u="avatar__link_Mc9C",m="avatar__photo_y+NV",s="avatar__info_oz+C",c="bold_xdb6",i={positiveko:{name:"positiveko",title:"Front End Engineer",url:"https://github.com/positiveko",image_url:"https://github.com/positiveko.png"},saengmotmi:{name:"saengmotmi",title:"Front End Engineer",url:"https://github.com/saengmotmi",image_url:"https://github.com/saengmotmi.png"},"Woongjo-Yoo":{name:"Woongjo-Yoo",title:"Back End Engineer",url:"https://github.com/onikss793",image_url:"https://github.com/onikss793.png"},Mengkki:{name:"Mengkki",title:"Front End Engineer",url:"https://github.com/guswnl0610",image_url:"https://github.com/guswnl0610.png"}};function p(e){var t=e.bookLeader,n=e.authors,p=function(e){var n=e.author,r=i[n];return a.createElement("div",{className:l},a.createElement("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:u},a.createElement("img",{src:r.image_url,alt:n,className:m})),a.createElement("div",{className:s},a.createElement("span",{className:c},r.name," ",n===t&&" \ud83c\udfc6"),a.createElement("span",null,r.title)))},f=(0,a.useCallback)((function(){return a.createElement("div",{className:o},i[t]&&a.createElement(p,{author:t}),n&&n.map((function(e){if(i[e])return a.createElement(p,{author:e,key:e})})))}),[t,n]);return a.createElement("section",null,a.createElement("span",{className:r},"written by"),f())}},6360:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return m},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return i},default:function(){return f}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),l=n(4797),u=["components"],m={sidebar_position:1},s="1\uc7a5 \ub9ac\ud329\ud130\ub9c1: \uccab \ubc88\uc9f8 \uc608\uc2dc",c={unversionedId:"chapter_1",id:"chapter_1",isDocsHomePage:!1,title:"1\uc7a5 \ub9ac\ud329\ud130\ub9c1: \uccab \ubc88\uc9f8 \uc608\uc2dc",description:"\uc608\uc2dc\ub85c \uc2dc\uc791\ud558\ub294 \uc774\uc720",source:"@site/docs/chapter_1.mdx",sourceDirName:".",slug:"/chapter_1",permalink:"/refactoring/docs/chapter_1",editUrl:"https://github.com/dev-in-book/refactoring/docs/chapter_1.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",next:{title:"2\uc7a5 \ub9ac\ud329\ud130\ub9c1 \uc6d0\uce59",permalink:"/refactoring/docs/chapter_2"}},i=[{value:"\uc608\uc2dc\ub85c \uc2dc\uc791\ud558\ub294 \uc774\uc720",id:"\uc608\uc2dc\ub85c-\uc2dc\uc791\ud558\ub294-\uc774\uc720",children:[]},{value:":: Before Refactoring",id:"-before-refactoring",children:[{value:"1) \ud14c\uc2a4\ud2b8 \ucf54\ub4dc \uc791\uc131",id:"1-\ud14c\uc2a4\ud2b8-\ucf54\ub4dc-\uc791\uc131",children:[]},{value:"2) \ud568\uc218 \ucabc\uac1c\uae30 (\ud568\uc218 \ucd94\ucd9c\ud558\uae30 - 6.1\uc808)",id:"2-\ud568\uc218-\ucabc\uac1c\uae30-\ud568\uc218-\ucd94\ucd9c\ud558\uae30---61\uc808",children:[]},{value:"3) play \ubcc0\uc218 \uc81c\uac70\ud558\uae30 (\uc784\uc2dc \ubcc0\uc218\ub97c \uc9c8\uc758\ud568\uc218\ub85c \ubc14\uafb8\uae30 - 7.4\uc808)",id:"3-play-\ubcc0\uc218-\uc81c\uac70\ud558\uae30-\uc784\uc2dc-\ubcc0\uc218\ub97c-\uc9c8\uc758\ud568\uc218\ub85c-\ubc14\uafb8\uae30---74\uc808",children:[]},{value:"4) thisAmount \ubcc0\uc218 \uc81c\uac70 (\ubcc0\uc218 \uc778\ub77c\uc778\ud558\uae30 - 6.4\uc808)",id:"4-thisamount-\ubcc0\uc218-\uc81c\uac70-\ubcc0\uc218-\uc778\ub77c\uc778\ud558\uae30---64\uc808",children:[]},{value:"5) volumeCreditsFor \ud568\uc218 \ucd94\ucd9c\ud558\uae30",id:"5-volumecreditsfor-\ud568\uc218-\ucd94\ucd9c\ud558\uae30",children:[]},{value:"6) format \ubcc0\uc218 \uc81c\uac70\ud558\uae30 (\ud568\uc218 \uc120\uc5b8 \ubc14\uafb8\uae30 - 6.5\uc808)",id:"6-format-\ubcc0\uc218-\uc81c\uac70\ud558\uae30-\ud568\uc218-\uc120\uc5b8-\ubc14\uafb8\uae30---65\uc808",children:[]},{value:"7) volumeCredits \ubcc0\uc218 \uc81c\uac70\ud558\uae30 (\ubc18\ubcf5\ubb38 \ucabc\uac1c\uae30 - 8.7\uc808, \ubb38\uc7a5 \uc2ac\ub77c\uc774\ub4dc\ud558\uae30 - 8.6\uc808)",id:"7-volumecredits-\ubcc0\uc218-\uc81c\uac70\ud558\uae30-\ubc18\ubcf5\ubb38-\ucabc\uac1c\uae30---87\uc808-\ubb38\uc7a5-\uc2ac\ub77c\uc774\ub4dc\ud558\uae30---86\uc808",children:[]},{value:"8. \uacc4\uc0b0 \ub2e8\uacc4\uc640 \ud3ec\ub9f7\ud305 \ub2e8\uacc4 \ubd84\ub9ac\ud558\uae30 (\ub2e8\uacc4 \ucabc\uac1c\uae30 - 6.11\uc808)",id:"8-\uacc4\uc0b0-\ub2e8\uacc4\uc640-\ud3ec\ub9f7\ud305-\ub2e8\uacc4-\ubd84\ub9ac\ud558\uae30-\ub2e8\uacc4-\ucabc\uac1c\uae30---611\uc808",children:[]},{value:"9. \ubc18\ubcf5\ubb38\uc744 \ud30c\uc774\ud504\ub77c\uc778\uc73c\ub85c \ubc14\uafb8\uae30 (8.8\uc808)",id:"9-\ubc18\ubcf5\ubb38\uc744-\ud30c\uc774\ud504\ub77c\uc778\uc73c\ub85c-\ubc14\uafb8\uae30-88\uc808",children:[]},{value:"10. \uc911\uac04 \ub370\uc774\ud130 \uc0dd\uc131\ud558\ub294 \ud568\uc218 \ubd84\ub9ac &amp; HTML \uc0dd\uc131\uc5d0 \ud544\uc694\ud55c \ud568\uc218 \uc900\ube44",id:"10-\uc911\uac04-\ub370\uc774\ud130-\uc0dd\uc131\ud558\ub294-\ud568\uc218-\ubd84\ub9ac--html-\uc0dd\uc131\uc5d0-\ud544\uc694\ud55c-\ud568\uc218-\uc900\ube44",children:[]},{value:"11. \ub2e4\ud615\uc131\uc744 \ud65c\uc6a9\ud574 \uacc4\uc0b0 \ucf54\ub4dc \uc7ac\uad6c\uc131\ud558\uae30 (\uc870\uac74\ubd80 \ub85c\uc9c1\uc744 \ub2e4\ud615\uc131\uc73c\ub85c \ubc14\uad6c\uae30 - 10.4\uc808)",id:"11-\ub2e4\ud615\uc131\uc744-\ud65c\uc6a9\ud574-\uacc4\uc0b0-\ucf54\ub4dc-\uc7ac\uad6c\uc131\ud558\uae30-\uc870\uac74\ubd80-\ub85c\uc9c1\uc744-\ub2e4\ud615\uc131\uc73c\ub85c-\ubc14\uad6c\uae30---104\uc808",children:[]},{value:"12. amountFor\uc5d0\uc11c PerformanceCalculator\uc758 \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud558\ub3c4\ub85d \ud558\uae30 (\ud568\uc218 \uc62e\uae30\uae30 - 8.1\uc808)",id:"12-amountfor\uc5d0\uc11c-performancecalculator\uc758-\uba54\uc11c\ub4dc\ub97c-\ud638\ucd9c\ud558\ub3c4\ub85d-\ud558\uae30-\ud568\uc218-\uc62e\uae30\uae30---81\uc808",children:[]},{value:"13. \uacf5\uc5f0\ub8cc \uacc4\uc0b0\uae30\ub97c \ub2e4\ud615\uc131 \ubc84\uc804\uc73c\ub85c \ub9cc\ub4e4\uae30 (\ud0c0\uc785 \ucf54\ub4dc\ub97c \uc11c\ube0c\ud074\ub798\uc2a4\ub85c \ubc14\uafb8\uae30 - 12.6\uc808, \uc0dd\uc131\uc790\ub97c \ud329\ud130\ub9ac \ud568\uc218\ub85c \ubc14\uafb8\uae30 - 11.8\uc808)",id:"13-\uacf5\uc5f0\ub8cc-\uacc4\uc0b0\uae30\ub97c-\ub2e4\ud615\uc131-\ubc84\uc804\uc73c\ub85c-\ub9cc\ub4e4\uae30-\ud0c0\uc785-\ucf54\ub4dc\ub97c-\uc11c\ube0c\ud074\ub798\uc2a4\ub85c-\ubc14\uafb8\uae30---126\uc808-\uc0dd\uc131\uc790\ub97c-\ud329\ud130\ub9ac-\ud568\uc218\ub85c-\ubc14\uafb8\uae30---118\uc808",children:[]}]},{value:":: After Refactoring",id:"-after-refactoring",children:[]},{value:"\ub9c8\ubb34\ub9ac",id:"\ub9c8\ubb34\ub9ac",children:[]}],p={toc:i};function f(e){var t=e.components,n=(0,r.Z)(e,u);return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"1\uc7a5-\ub9ac\ud329\ud130\ub9c1-\uccab-\ubc88\uc9f8-\uc608\uc2dc"},"1\uc7a5 \ub9ac\ud329\ud130\ub9c1: \uccab \ubc88\uc9f8 \uc608\uc2dc"),(0,o.kt)(l.Z,{bookLeader:"saengmotmi",mdxType:"Authors"}),(0,o.kt)("h2",{id:"\uc608\uc2dc\ub85c-\uc2dc\uc791\ud558\ub294-\uc774\uc720"},"\uc608\uc2dc\ub85c \uc2dc\uc791\ud558\ub294 \uc774\uc720"),(0,o.kt)("p",null,"\ub9ac\ud329\ud130\ub9c1\uc774 \uc5ed\uc0ac\uc640 \uc6d0\uce59\uc744 \ubb34\uc791\uc815 \ub098\uc5f4\ud558\ub294 \uac83\ubcf4\ub2e4 \ubcf4\ub2e4 \uad6c\uccb4\uc801\uc774\uace0 \uc2e4\uc804\uc801\uc778 \uc608\uc2dc\ub97c \ub4e4\uc5b4 \uc124\uba85\ud558\ub294 \uac83\uc774 \uc88b\ub2e4\uace0 \uc0dd\uac01\ud588\uae30 \ub54c\ubb38\uc774\ub2e4. \uba3c\uc800 \uc608\uc2dc\ub97c \ud1b5\ud574 \uc5b4\ub5a4 \uac83\ub4e4\uc744 \ub9ac\ud329\ud130\ub9c1\uc774\ub77c\uace0 \ubd80\ub97c \uc218 \uc788\ub294\uc9c0\uc5d0 \ub300\ud574 \uac10\uc744 \uc7a1\uace0, \uadf8 \ub2e4\uc74c \uc138\ubd80 \ud56d\ubaa9\ub4e4\uc5d0 \ub300\ud574 \uc124\uba85\ud558\uc2dc\ub294 \ubc29\uc2dd\uc744 \ud0dd\ud558\uaca0\ub2e4\ub294 \uac83\uc774\ub2e4."),(0,o.kt)("p",null,"\uc544\ub798 \ucf54\ub4dc\ub4e4\uc774 \ub2e4\uc591\ud55c \uc5f0\uadf9\uc744 \uc678\uc8fc\ub85c \ubc1b\uc544 \uacf5\uc5f0\ud558\ub294 \uadf9\ub2e8\uc758 \uc2dc\uc2a4\ud15c \uc77c\ubd80\ub77c\uace0 \uc0dd\uac01\ud558\uace0 \uc0b4\ud3b4\ubcf4\uc790. \uc694\uad6c \uc0ac\ud56d\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\uacf5\uc5f0 \uc694\uccad\uc774 \ub4e4\uc5b4\uc624\uba74 \uc5f0\uadf9\uc758 \uc7a5\ub974\uc640 \uad00\uac1d \uaddc\ubaa8\ub97c \uae30\ucd08\ub85c \ube44\uc6a9\uc744 \ucc45\uc815\ud55c\ub2e4."),(0,o.kt)("li",{parentName:"ul"},"\uc774 \uadf9\ub2e8\uc740 \ub450 \uac00\uc9c0 \uc7a5\ub974, \ube44\uadf9\uacfc \ud76c\uadf9\ub9cc \uacf5\uc5f0\ud55c\ub2e4."),(0,o.kt)("li",{parentName:"ul"},"\uacf5\uc5f0\ub8cc\uc640 \ubcc4\uac1c\ub85c \ud3ec\uc778\ud2b8(volume credit)\ub97c \uc9c0\uae09\ud574\uc11c \ub2e4\uc74c\ubc88 \uc758\ub8b0\uc2dc \uacf5\uc5f0\ub8cc\ub97c \ud560\uc778\ubc1b\uc744 \uc218\ub3c4 \uc788\ub2e4.")),(0,o.kt)("h2",{id:"-before-refactoring"},":: Before Refactoring"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'function statement(invoice, plays) {\n  let totalAmount = 0;\n  let volumeCredits = 0;\n  let result = `\uccad\uad6c \ub0b4\uc5ed (\uace0\uac1d\uba85: ${invoice.customer})\\n`;\n  const format = new Intl.NumberFormat("en-US", {\n    style: "currency",\n    currency: "USD",\n    minimumFractionDigits: 2,\n  }).format;\n\n  for (let perf of invoice.performances) {\n    const play = plays[perf.playID];\n    let thisAmount = 0;\n\n    switch (play.type) {\n      case "tragedy": // \ube44\uadf9\n        thisAmount = 40000;\n        if (perf.audience > 30) {\n          thisAmount += 1000 * (perf.audience - 30);\n        }\n        break;\n\n      case "comedy": // \ud76c\uadf9\n        thisAmount = 30000;\n        if (perf.audience > 20) {\n          thisAmount += 10000 + 500 * (perf.audience - 20);\n        }\n        thisAmount += 300 * perf.audience;\n        break;\n\n      default:\n        throw new Error(`\uc54c \uc218 \uc5c6\ub294 \uc7a5\ub974: ${play.type}`);\n    }\n    // \ud3ec\uc778\ud2b8\ub97c \uc801\ub9bd\ud55c\ub2e4.\n    volumeCredits += Math.max(perf.audience - 30, 0);\n\n    // \ud76c\uadf9 \uad00\uac1d 5\uba85 \ub9c8\ub2e4 \ucd94\uac00 \ud3ec\uc778\ud2b8\ub97c \uc81c\uacf5\ud55c\ub2e4.\n    if ("comendy" === play.type) volumeCredits += Math.floor(perf.audience / 5);\n\n    // \uccad\uad6c \ub0b4\uc5ed\uc744 \ucd9c\ub825\ud55c\ub2e4.\n    result += ` ${play.name}: ${format(thisAmount / 100)} (${\n      perf.audience\n    }\uc11d)\\n`;\n    totalAmount += thisAmount;\n    result += `\ucd1d\uc561: ${format(totalAmount / 100)}\\n`;\n    result += `\uc801\ub9bd \ud3ec\uc778\ud2b8: ${volumeCredits}\uc810\\n`;\n    return result;\n  }\n}\n')),(0,o.kt)("p",null,"\ucf54\ub4dc\ub294 \ubb34\ub9ac \uc5c6\uc774 \ub3d9\uc791\ud558\uace0 \ud568\uc218\ub294 \uc704\uc5d0\uc11c \uc544\ub798\ub85c \ud6d1\uc73c\uba70 \ucda9\ubd84\ud788 \uc774\ud574\ud560 \uc218 \uc788\ub294 \uc218\uc900\uc758 \ubcf5\uc7a1\ub3c4\ub97c \uac16\uace0 \uc788\ub2e4. \uad73\uc774 \uc774 \ucf54\ub4dc\ub97c \ub9ac\ud329\ud130\ub9c1 \ud574\uc57c\ud560 \uc774\uc720\ub294 \ubb58\uae4c?"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\"\ud504\ub85c\uadf8\ub7a8\uc774 \uc798 \uc791\ub3d9\ud558\ub294 \uc0c1\ud669\uc5d0\uc11c \uadf8\uc800 \ucf54\ub4dc\uac00 '\uc9c0\uc800\ubd84\ud558\ub2e4'\ub294 \uc774\uc720\ub85c \ubd88\ud3c9\ud558\ub294 \uac83\uc740 \ud504\ub85c\uadf8\ub7a8\uc758 \uad6c\uc870\ub97c \ub108\ubb34 \ubbf8\uc801\uc778 \uae30\uc900\uc73c\ub85c\ub9cc \ud310\ub2e8\ud558\ub294 \uac74 \uc544\ub2d0\uae4c? (...) \ud558\uc9c0\ub9cc \uadf8 \ucf54\ub4dc\ub97c \uc218\uc815\ud558\ub824\uba74 \uc0ac\ub78c\uc774 \uac1c\uc785\ub418\uace0, \uc0ac\ub78c\uc740 \ucf54\ub4dc\uc758 \ubbf8\uc801 \uc0c1\ud0dc\uc5d0 \ubbfc\uac10\ud558\ub2e4. \uc124\uacc4\uac00 \ub098\uc05c \uc2dc\uc2a4\ud15c\uc740 \uc218\uc815\ud558\uae30 \uc5b4\ub835\ub2e4. (...) \ubb34\uc5c7\uc744 \uc218\uc815\ud560\uc9c0 \ucc3e\uae30 \uc5b4\ub835\ub2e4\uba74 \uc2e4\uc218\ub97c \uc800\uc9c8\ub7ec\uc11c \ubc84\uadf8\uac00 \uc0dd\uae38 \uac00\ub2a5\uc131\ub3c4 \ub192\uc544\uc9c4\ub2e4.\" - 26p")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"\ud504\ub85c\uadf8\ub7a8\uc774 \uc0c8\ub85c\uc6b4 \uae30\ub2a5\uc744 \ucd94\uac00\ud558\uae30\uc5d0 \ud3b8\ud55c \uad6c\uc870\uac00 \uc544\ub2c8\ub77c\uba74, \uba3c\uc800 \uae30\ub2a5\uc744 \ucd94\uac00\ud558\uae30 \uc26c\uc6b4 \ud615\ud0dc\ub85c \ub9ac\ud329\ud130\ub9c1\ud558\uace0 \ub098\uc11c \uc6d0\ud558\ub294 \uae30\ub2a5\uc744 \ucd94\uac00\ud55c\ub2e4. - 27p")),(0,o.kt)("p",null,"\ud6d7\ub0a0 \ubcc0\uacbd\uc5d0 \uae30\ubbfc\ud558\uac8c \ub300\uc751\ud558\uae30 \uc704\ud574\uc11c\ub2e4. \uc608\ub97c \ub4e4\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \uba87 \uac00\uc9c0 \uc218\uc815 \uc0ac\ud56d\uc774 \uc788\ub2e4."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\uccad\uad6c \ub0b4\uc5ed\uc744 HTML\ub85c \ucd9c\ub825\ud558\ub294 \uae30\ub2a5 \ucd94\uac00"),(0,o.kt)("li",{parentName:"ul"},"\ud76c\uadf9, \ube44\uadf9 \ubfd0\ub9cc \uc544\ub2c8\ub77c \uc5ec\ub7ec \uac00\uc9c0 \uc7a5\ub974\uc758 \uc5f0\uadf9\uc5d0 \ub300\ud55c \ud655\uc7a5\uc5d0\ub3c4 \ub300\uc751"),(0,o.kt)("li",{parentName:"ul"},"\uc7a5\ub974 \ucd94\uac00\uc5d0 \ub530\ub77c \uacf5\uc5f0\ub8cc\uc640 \uc801\ub9bd \ud3ec\uc778\ud2b8 \uacc4\uc0b0\uc5d0 \uc601\ud5a5\uc744 \uc904 \uc218 \uc788\uc74c")),(0,o.kt)("h3",{id:"1-\ud14c\uc2a4\ud2b8-\ucf54\ub4dc-\uc791\uc131"},"1) \ud14c\uc2a4\ud2b8 \ucf54\ub4dc \uc791\uc131"),(0,o.kt)("p",null,"\uba3c\uc800 \ud14c\uc2a4\ud2b8 \ucf54\ub4dc\ub97c \uc791\uc131\ud574\uc57c \ud55c\ub2e4. \uba87 \uac00\uc9c0 \uc785\ub825 \uac12\uc744 \uc900\ube44\ud574\ub450\uace0 \ud604\uc7ac ",(0,o.kt)("inlineCode",{parentName:"p"},"statement")," \ud568\uc218\uac00 \ub9ac\ud134\ud558\ub294 \uac12\uc774 \uc633\uc740\uc9c0 \ud14c\uc2a4\ud2b8\ud558\ub294 \ucf54\ub4dc\ub97c \uc900\ube44\ud55c\ub2e4. \ub9e4 \ubc88\uacbd\ub9c8\ub2e4 \ud14c\uc2a4\ud2b8\uac00 \uc62c\ubc14\ub974\uac8c \ub3d9\uc791\ud558\ub294\uc9c0 \ud655\uc778\ud574\uc57c \ud55c\ub2e4."),(0,o.kt)("h3",{id:"2-\ud568\uc218-\ucabc\uac1c\uae30-\ud568\uc218-\ucd94\ucd9c\ud558\uae30---61\uc808"},"2) \ud568\uc218 \ucabc\uac1c\uae30 (\ud568\uc218 \ucd94\ucd9c\ud558\uae30 - 6.1\uc808)"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"statement")," \ud568\uc218\ub294 \ucda9\ubd84\ud788 \uae38\uac8c \ub290\uaef4\uc9c4\ub2e4. \uc5ec\uae30\uc11c \uae38\ub2e4\ub294 \uc758\ubbf8\ub294 \ud558\ub098\uc758 \uc804\uccb4 \ub3d9\uc791\uc774 \uc5ec\ub7ec \uac1c\uc758 \ubd80\ubd84 \ub3d9\uc791\uc73c\ub85c \ub098\ub258\uc5b4\uc9c8 \uc218 \uc788\ub2e4\ub294 \ub73b\uc774\ub2e4."),(0,o.kt)("p",null,"\ud568\uc218\ub97c \uc0b4\ud3b4\ubcf4\uba74 switch \ubb38 \ubd80\ubd84\uc774 \ub208\uc5d0 \ub748\ub2e4. \uacf5\uc5f0 \uc694\uae08\uc744 \uacc4\uc0b0\ud558\ub294 \ubd80\ubd84\uc774\ub2e4. \uc774 \uc0ac\uc2e4\uc744 \uc54c\uae30 \uc704\ud574\uc11c\ub294 switch \ubb38 \uc804\uccb4\ub97c \ubd84\uc11d\ud574\uc57c\ub9cc \ud55c\ub2e4. \ub9cc\uc57d \ucf54\ub4dc\uc5d0 \uc774\ub7ec\ud55c \uc758\ubbf8\uac00 \ubc18\uc601\ub418\uc5b4 \uc788\ub2e4\uba74 \uad73\uc774 \ucf54\ub4dc\uc758 \uc138\ubd80 \uc0ac\ud56d\uc744 \ubab0\ub77c\ub3c4 \uc758\ubbf8 \ud30c\uc545\uc774 \uac00\ub2a5\ud560 \uac83\uc774\ub2e4."),(0,o.kt)("p",null,"\uadf8\ub7ec\uba74 \ud574\ub2f9 switch \ubb38\uc744 ",(0,o.kt)("inlineCode",{parentName:"p"},"amountFor(aPerformance)"),"\uc640 \uac19\uc740 \ud615\ud0dc\ub85c \ubd84\ub9ac\ud558\ub294 \uac83\uc774 \uc88b\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'{3} title="function statement()"',"{3}":!0,title:'"function','statement()"':!0},"for (let perf of aPerformances) {\n  const play = plays[perf.playID];\n  let thisAmount = amountFor(perf, play); // switch \ubb38 \uc774\ud558\ub97c \ucd94\ucd9c\ud55c \ud568\uc218\n  // ...\n}\n")),(0,o.kt)("h3",{id:"3-play-\ubcc0\uc218-\uc81c\uac70\ud558\uae30-\uc784\uc2dc-\ubcc0\uc218\ub97c-\uc9c8\uc758\ud568\uc218\ub85c-\ubc14\uafb8\uae30---74\uc808"},"3) play \ubcc0\uc218 \uc81c\uac70\ud558\uae30 (\uc784\uc2dc \ubcc0\uc218\ub97c \uc9c8\uc758\ud568\uc218\ub85c \ubc14\uafb8\uae30 - 7.4\uc808)"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"amountFor"),"\uc758 \ub9e4\uac1c\ubcc0\uc218\ub97c \uc0b4\ud3b4\ubcf4\ub2c8 amoutFor\uc5d0 \uc804\ub2ec\ud558\ub294 ",(0,o.kt)("inlineCode",{parentName:"p"},"play"),"\ub294 ",(0,o.kt)("inlineCode",{parentName:"p"},"perf"),"\ub97c \uc0ac\uc6a9\ud574 \uc5bb\uc5b4\ub0bc \uc218 \uc788\ub294 \uac12\uc774\ub2e4. \uadf8\ub807\ub2e4\uba74 \uad73\uc774 \uc778\uc790\ub85c \ubc1b\uc9c0 \uc54a\uace0, \ub9e4 \ub8e8\ud504\ub9c8\ub2e4 \ub2e4\uc2dc \uacc4\uc0b0\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'{2} title="function statement()"',"{2}":!0,title:'"function','statement()"':!0},"for (let perf of aPerformances) {\n  let thisAmount = amountFor(perf); // play \ub9e4\uac1c \ubcc0\uc218 \uc81c\uac70\n  // ...\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="function amountFor()"',title:'"function','amountFor()"':!0},"function playFor(aPerformance) {\n  return plays[aPerformance.playID];\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'{3} title="function amountFor()"',"{3}":!0,title:'"function','amountFor()"':!0},'function amountFor(aPerformance) {\n  let result = 0\n  switch (playFor(aPerformance).type) {\n    case "tragedy": // \ube44\uadf9\n      thisAmount = 40000;\n      if (perf.audience > 30) {\n        thisAmount += 1000 * (perf.audience - 30);\n      }\n      break;\n    // ...\n')),(0,o.kt)("h3",{id:"4-thisamount-\ubcc0\uc218-\uc81c\uac70-\ubcc0\uc218-\uc778\ub77c\uc778\ud558\uae30---64\uc808"},"4) thisAmount \ubcc0\uc218 \uc81c\uac70 (\ubcc0\uc218 \uc778\ub77c\uc778\ud558\uae30 - 6.4\uc808)"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"amountFor")," \ud568\uc218\ub294 thisAmount\uc758 \ucd08\uae30\uac12\uc744 \uc124\uc815\ud558\ub294\ub370\ub9cc \uc4f0\uc774\uace0, \ucd94\ud6c4 \ubcc0\uacbd\ub418\uc9c0\ub294 \uc54a\ub294\ub2e4. \uc774 \uacbd\uc6b0 \ubcc0\uc218\ub97c \uc778\ub77c\uc778 \ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \ubc14\uafb8\uc5b4 \ubd88\ud544\uc694\ud55c \ubcc0\uc218\ub97c \uc904\uc77c \uc218 \uc788\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:"{2}","{2}":!0},"  for (let perf of invoice.performances) {\n    // thisAmount \ubcc0\uc218 \uc0ad\uc81c\n    volumeCredits += Math.floor(perf.audience - 30, 0)\n    // ...\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:"{2,5}","{2,5}":!0},"// \uccad\uad6c \ub0b4\uc5ed\uc744 \ucd9c\ub825\ud55c\ub2e4.\nresult += ` ${play.name}: ${format(amountFor(perf) / 100)} (${\n  perf.audience\n}\uc11d)\\n`;\ntotalAmount += amountFor(perf);\nresult += `\ucd1d\uc561: ${format(totalAmount / 100)}\\n`;\nresult += `\uc801\ub9bd \ud3ec\uc778\ud2b8: ${volumeCredits}\uc810\\n`;\nreturn result;\n")),(0,o.kt)("h3",{id:"5-volumecreditsfor-\ud568\uc218-\ucd94\ucd9c\ud558\uae30"},"5) volumeCreditsFor \ud568\uc218 \ucd94\ucd9c\ud558\uae30"),(0,o.kt)("p",null,"\ud3ec\uc778\ud2b8\ub97c \uacc4\uc0b0\ud558\ub294 \ubd80\ubd84\ub3c4 \ubcc4\ub3c4 \ud568\uc218\ub85c \ubd84\ub9ac\ud560 \uc218 \uc788\ub2e4. \ucd94\ucd9c\ud55c \ud568\uc218\ub97c \ub8e8\ud504\ubb38 \ub0b4\uc5d0\uc11c \uc0ac\uc6a9\ud574 ",(0,o.kt)("inlineCode",{parentName:"p"},"volumeCredits")," \ubcc0\uc218\uc5d0 \uac12\uc744 \ub204\uc801\uc2dc\ucf1c\uc904 \uc218 \uc788\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'function volumeCreditsFor(perf) {\n  let volumeCredits = 0;\n  volumeCredits += Math.max(perf.audience - 30, 0);\n  if ("comendy" === playFor(perf).type)\n    volumeCredits += Math.max(perf.audience / 5);\n  return volumeCredits;\n}\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'{2} title="function statement"',"{2}":!0,title:'"function','statement"':!0},"  for (let perf of invoice.performances) {\n    volumeCredits += volumeCreditsFor(perf)\n    // ...\n")),(0,o.kt)("h3",{id:"6-format-\ubcc0\uc218-\uc81c\uac70\ud558\uae30-\ud568\uc218-\uc120\uc5b8-\ubc14\uafb8\uae30---65\uc808"},"6) format \ubcc0\uc218 \uc81c\uac70\ud558\uae30 (\ud568\uc218 \uc120\uc5b8 \ubc14\uafb8\uae30 - 6.5\uc808)"),(0,o.kt)("p",null,"\ud654\ud3d0 \ub2e8\uc704\ub97c \ud45c\ud604\ud558\uae30 \uc704\ud574 \uc0ac\uc6a9\ud55c ",(0,o.kt)("inlineCode",{parentName:"p"},"format"),"\uc740 \uc784\uc2dc\ubcc0\uc218\uc5d0 \ud568\uc218 \uc790\uccb4\ub97c \uc800\uc7a5\ud574\ub454 \ud615\ud0dc\ub2e4. \uc774 \ud568\uc218\ub294 \ucd1d\uc561\uc744 \uad6c\ud560 \ub54c ",(0,o.kt)("inlineCode",{parentName:"p"},"\ucd1d\uc561: ${format(totalAmount / 100)}"),"\uc640 \uac19\uc740 \ud615\ud0dc\ub85c \uc4f0\uc774\uac8c \ub41c\ub2e4."),(0,o.kt)("p",null,"\uc774 \ud568\uc218\uc758 \uc6a9\ub3c4\uc640 \ub9e5\ub77d\uc744 \uc0b4\ub824 \ubcc4\ub3c4 \ud568\uc218\ub85c \ubd84\ub9ac\ud574\ubcf4\uc790."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'function usd(aNumber) {\n  return new Intl.NumberFormat("en-US", {\n    style: "currency",\n    currency: "USD",\n    minimumFractionDigits: 2,\n  }).format(aNumber / 100); // \ub2e8\uc704 \ubcc0\ud658 \ub85c\uc9c1\ub3c4 \ud55c\ubc88\uc5d0 \ucc98\ub9ac\ud558\uc790\n}\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="function statement()"',title:'"function','statement()"':!0},"result += `\ucd1d\uc561: ${usd(amountFor(perf))}\\n`;\n")),(0,o.kt)("h3",{id:"7-volumecredits-\ubcc0\uc218-\uc81c\uac70\ud558\uae30-\ubc18\ubcf5\ubb38-\ucabc\uac1c\uae30---87\uc808-\ubb38\uc7a5-\uc2ac\ub77c\uc774\ub4dc\ud558\uae30---86\uc808"},"7) volumeCredits \ubcc0\uc218 \uc81c\uac70\ud558\uae30 (\ubc18\ubcf5\ubb38 \ucabc\uac1c\uae30 - 8.7\uc808, \ubb38\uc7a5 \uc2ac\ub77c\uc774\ub4dc\ud558\uae30 - 8.6\uc808)"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"volumeCredits")," \ubcc0\uc218\ub294 \ubc18\ubcf5\ubb38\uc744 \ub3cc \ub54c\ub9c8\ub2e4 \uac12\uc744 \ub204\uc801\ud558\uae30 \ub54c\ubb38\uc5d0 \ub9ac\ud329\ud130\ub9c1\ud558\uae30 \uae4c\ub2e4\ub86d\ub2e4. \uadf8\ub798\uc11c \uba3c\uc800 ",(0,o.kt)("inlineCode",{parentName:"p"},"\ubc18\ubcf5\ubb38 \ucabc\uac1c\uae30"),"\ub85c \ubcc4\ub3c4 \ubc18\ubcf5\ubb38\uc73c\ub85c \ubd84\ub9ac\ud55c \ub2e4\uc74c, ",(0,o.kt)("inlineCode",{parentName:"p"},"\ubb38\uc7a5 \uc2ac\ub77c\uc774\ub4dc\ud558\uae30"),"\ub97c \uc801\uc6a9\ud574 volumeCredits \ubcc0\uc218 \uc120\uc5b8\ud558\ub294 \ubb38\uc7a5\uc744 \ubc18\ubcf5\ubb38 \ubc14\ub85c \uc55e\uc73c\ub85c \uc62e\uae34\ub2e4."),(0,o.kt)("p",null,"\ubc18\ubcf5\ubb38\uc758 \uac2f\uc218\uac00 \ud558\ub098 \ub354 \ub298\uae34 \ud558\uc9c0\ub9cc \ud6a8\uacfc\ub294 \ubbf8\ubbf8\ud560 \uac83\uc774\ub2e4. \uacbd\ud5d8 \ub9ce\uc740 \ud504\ub85c\uadf8\ub798\uba38\uc870\ucc28 \ucf54\ub4dc\uc758 \uc2e4\uc81c \uc131\ub2a5\uc744 \uc815\ud655\ud788 \uc608\uce21\ud558\uc9c0 \ubabb\ud558\uace0, \ucd5c\uadfc \ucef4\ud30c\uc77c\ub7ec\ub4e4\uc740 \uce90\uc2f1 \uae30\ubc95 \ub4f1\uc73c\ub85c \uc774\ub7ec\ud55c \ubd80\ubd84\uc744 \ub300\ubd80\ubd84 \ucd5c\uc801\ud654\ud574 \uc900\ub2e4."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\uc131\ub2a5\uc774 \ud06c\uac8c \ub5a8\uc5b4\uc84c\ub2e4\uba74 \ud544\uc694\ud55c \uc2dc\uc810\uc5d0 \uce21\uc815 \ud6c4 \uac1c\uc120\ud558\uba74 \ub41c\ub2e4.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="function statement()" {11-14}',title:'"function','statement()"':!0,"{11-14}":!0},"function statement(invoice, plays) {\n  let totalAmount = 0;\n  let result = `\uccad\uad6c \ub0b4\uc5ed (\uace0\uac1d\uba85: ${invoice.customer})\\n`;\n  for (let perf of invoice.performances) {\n    // \uccad\uad6c \ub0b4\uc5ed\uc744 \ucd9c\ub825\ud55c\ub2e4\n    result += ` ${playFor(perf).name}: ${usd(\n      amountFor(perf)\n    )} ({perf.audience}\uc11d)\\n`;\n    totalAmount += amountFor(perf);\n  }\n  let volumeCredits = 0;\n  for (let perf of invoice.performances) {\n    volumeCredits += volumeCreditsFor(perf);\n  }\n  result += `\ucd1d\uc561: ${usd(totalAmount)}`;\n  result += `\uc801\ub9bd \ud3ec\uc778\ud2b8: ${volumeCredits}\uc810`;\n  return result;\n}\n")),(0,o.kt)("p",null,"\uc774\uc81c \ud574\ub2f9 \ubc18\ubcf5\ubb38\uc744 \ud568\uc218\ub85c \ucd94\ucd9c\ud55c \ub2e4\uc74c, volumeCredits \ubcc0\uc218\ub97c \ud574\ub2f9 \ud568\uc218\ub85c \uc778\ub77c\uc778\ud55c\ub2e4. statement \ud568\uc218 \ubcf8\ubb38\uc774 \ud55c\uacb0 \uac00\ubcbc\uc6cc\uc84c\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="function statement()" {12}',title:'"function','statement()"':!0,"{12}":!0},"function statement(invoice, plays) {\n  let totalAmount = 0;\n  let result = `\uccad\uad6c \ub0b4\uc5ed (\uace0\uac1d\uba85: ${invoice.customer})\\n`;\n  for (let perf of invoice.performances) {\n    // \uccad\uad6c \ub0b4\uc5ed\uc744 \ucd9c\ub825\ud55c\ub2e4\n    result += ` ${playFor(perf).name}: ${usd(\n      amountFor(perf)\n    )} ({perf.audience}\uc11d)\\n`;\n    totalAmount += amountFor(perf);\n  }\n  result += `\ucd1d\uc561: ${usd(totalAmount)}`;\n  result += `\uc801\ub9bd \ud3ec\uc778\ud2b8: ${totalVolumeCredits()}\uc810`;\n  return result;\n}\n")),(0,o.kt)("h3",{id:"8-\uacc4\uc0b0-\ub2e8\uacc4\uc640-\ud3ec\ub9f7\ud305-\ub2e8\uacc4-\ubd84\ub9ac\ud558\uae30-\ub2e8\uacc4-\ucabc\uac1c\uae30---611\uc808"},"8. \uacc4\uc0b0 \ub2e8\uacc4\uc640 \ud3ec\ub9f7\ud305 \ub2e8\uacc4 \ubd84\ub9ac\ud558\uae30 (\ub2e8\uacc4 \ucabc\uac1c\uae30 - 6.11\uc808)"),(0,o.kt)("p",null,"\uc9c0\uae08\uae4c\uc9c0\ub294 \ud504\ub85c\uadf8\ub7a8\uc758 \ub17c\ub9ac\uc801\uc778 \uc694\uc18c\ub97c \ud30c\uc545\ud558\uae30 \uc27d\ub3c4\ub85d \ucf54\ub4dc\uc758 \uad6c\uc870\ub97c \ubcf4\uac15\ud558\ub294\ub370 \uc9d1\uc911\ud588\ub2e4. \uc774\uc81c \uc6d0\ud558\ub358 \uae30\ub2a5 \ubcc0\uacbd(statement \ud568\uc218\uc758 \uacb0\uacfc\ubb3c\uc744 HTML\ub85c \ucd9c\ub825)\uc744 \ud574\ubcf4\uc790."),(0,o.kt)("p",null,"\uc774\uc81c HTML \ubc84\uc804 \ud568\uc218\ub9cc \uc791\uc131\ud558\uba74 \ub41c\ub2e4. \uacc4\uc0b0\ud558\ub294 \ucf54\ub4dc - \ub80c\ub354\ub9c1\ud558\ub294 \ucf54\ub4dc \ub450 \ub2e8\uacc4\ub85c \ub098\ub204\uc5b4\ubcf4\uc790. \uadf8\ub9ac\uace0 \uace0\uac1d \ub370\uc774\ud130\ub294 statement\uc5d0\uc11c \uc911\uac04\ub370\uc774\ud130\ub85c \uc62e\uae30\uace0, invoice \ub9e4\uac1c\ubcc0\uc218\ub294 \uc0ad\uc7ac\ud558\uc790."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// \uacc4\uc0b0\nfunction statement(invoice, plays) {\n  const statementData = {}\n  statementData.customer = invoice.customer;\n  statementData.performances = invoice.performances.map(enrichPerformance);\n  statementData.totalAmount = totalAmountFor(statementData);\n  statementData.totalVolumeCredits = totledVolumeCreditsFor(statementData);\n\n  return renderPlainText(statementData, plays);\n\n  function enrichPerformance(aPerformance) {\n    const result = Object.assign({}, aPerformance)\n    result.play = playFor(result)\n    result.amount = amountFor(result)\n    result.volumeCredits = volumeCreditsFor(result)\n    return result\n  }\n}\n\n// \ub80c\ub354\ub9c1\nfunction renderPlainText(invoice, plays) { ... }\n")),(0,o.kt)("h3",{id:"9-\ubc18\ubcf5\ubb38\uc744-\ud30c\uc774\ud504\ub77c\uc778\uc73c\ub85c-\ubc14\uafb8\uae30-88\uc808"},"9. \ubc18\ubcf5\ubb38\uc744 \ud30c\uc774\ud504\ub77c\uc778\uc73c\ub85c \ubc14\uafb8\uae30 (8.8\uc808)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="function renderPlainText()"',title:'"function','renderPlainText()"':!0},"function totalAmount(data) {\n  return data.performances.reduce((total, p) => total + p.amount, 0);\n}\n\nfunction totalVolumeCredits(data) {\n  return data.performances.reduce((total, p) => total + p.volumeCredits, 0);\n}\n")),(0,o.kt)("h3",{id:"10-\uc911\uac04-\ub370\uc774\ud130-\uc0dd\uc131\ud558\ub294-\ud568\uc218-\ubd84\ub9ac--html-\uc0dd\uc131\uc5d0-\ud544\uc694\ud55c-\ud568\uc218-\uc900\ube44"},"10. \uc911\uac04 \ub370\uc774\ud130 \uc0dd\uc131\ud558\ub294 \ud568\uc218 \ubd84\ub9ac & HTML \uc0dd\uc131\uc5d0 \ud544\uc694\ud55c \ud568\uc218 \uc900\ube44"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"function createStatementData(invoice, plays) {\n  const statementData = {};\n  statementData.customer = invoice.customer;\n  statementData.performances = invoice.performances.map(enrichPerformance);\n  statementData.totalAmount = totalAmountFor(statementData);\n  statementData.totalVolumeCredits = totledVolumeCreditsFor(statementData);\n  return statementData;\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'function statement(invoice, plays) {\n  return renderPlainText(createStatementData(invoice, plays));\n}\n\nfunction htmlStatement(invoice, plays) {\n  return renderPlainText(createStatementData(invoice, plays));\n}\n\nfunction renderHtml(data) {\n  let result = `<h1>\uccad\uad6c \ub0b4\uc5ed (\uace0\uac1d\uba85: ${data.customer})</h1>\\n`;\n  result += "<table>\\n";\n  result += "<tr><th>\uc5f0\uadf9</th><th>\uc88c\uc11d \uc218</th><th>\uae08\uc561</th></tr>";\n  for (let perf of data.performances) {\n    result += `  <tr><td>${perf.play.name}</td><td>(${perf.audience}\uc11d)</td>`;\n    result += `<td>${usd(perf.amount)}</td></tr>\\n`;\n  }\n  result += "</table>\\n";\n  result += `<p>\ucd1d\uc561: <em>${usd(data.totalAmount)}</em></p>\\n`;\n  result += `<p>\uc801\ub9bd \ud3ec\uc778\ud2b8: <em>${data.totalVolumeCredits}</em>\uc810</p>\\n`;\n  return result;\n}\n')),(0,o.kt)("h3",{id:"11-\ub2e4\ud615\uc131\uc744-\ud65c\uc6a9\ud574-\uacc4\uc0b0-\ucf54\ub4dc-\uc7ac\uad6c\uc131\ud558\uae30-\uc870\uac74\ubd80-\ub85c\uc9c1\uc744-\ub2e4\ud615\uc131\uc73c\ub85c-\ubc14\uad6c\uae30---104\uc808"},"11. \ub2e4\ud615\uc131\uc744 \ud65c\uc6a9\ud574 \uacc4\uc0b0 \ucf54\ub4dc \uc7ac\uad6c\uc131\ud558\uae30 (\uc870\uac74\ubd80 \ub85c\uc9c1\uc744 \ub2e4\ud615\uc131\uc73c\ub85c \ubc14\uad6c\uae30 - 10.4\uc808)"),(0,o.kt)("p",null,"HTML \ub370\uc774\ud130\ub97c \ucd9c\ub825\ud558\ub294 \uae30\ub2a5\uc740 \uc798 \uc815\ub9ac\ub418\uc5c8\ub2e4. \uc774\uc81c \ud76c\uadf9, \ube44\uadf9 \ubfd0\ub9cc \uc544\ub2c8\ub77c \uc5ec\ub7ec \uac00\uc9c0 \uc7a5\ub974\uc758 \uc5f0\uadf9\uc5d0 \ub300\ud55c \ud655\uc7a5\uc5d0\ub3c4 \ub300\uc751\ud560 \uc218 \uc788\ub3c4\ub85d \uacc4\uc0b0 \ub85c\uc9c1\uc744 \ud655\uc7a5\uc131 \uc788\uac8c \uc190\ubcfc \ucc28\ub840\ub2e4."),(0,o.kt)("p",null,"\ud604\uc7ac \ucf54\ub4dc \uc0c1\uc73c\ub85c\ub294 \uc5f0\uadf9 \uc7a5\ub974\uac00 \ub298\uc5b4\ub0a8\uc5d0 \ub530\ub77c \uba54\uc778 \uacc4\uc0b0 \ub85c\uc9c1\uc758 \ucf54\ub4dc\ub3c4 \ud568\uaed8 \uc218\uc815\ud574\uc918\uc57c \ud55c\ub2e4. \uc774\ub97c \ubc29\uc9c0\ud558\ub824\uba74 ",(0,o.kt)("inlineCode",{parentName:"p"},"\ub85c\uc9c1 \ub300\uc2e0 \uad6c\uc870\ub85c \ubcf4\uc644"),"\ud558\ub294 \uac83\uc774 \uc88b\ub2e4."),(0,o.kt)("p",null,"\uc774\ubc88 \uc791\uc5c5\uc740 \uc0c1\uc18d \uacc4\uce35\uc744 \uad6c\uc131\ud574\uc11c \uac01 \uc7a5\ub974\ub97c \uc11c\ube0c\ud074\ub798\uc2a4\ub85c \ub9cc\ub4e4\uace0, \uadf8 \uc11c\ube0c\ud074\ub798\uc2a4\uc5d0\uc11c \uac01\uc790\uc758 \uad6c\uccb4\uc801\uc778 \uacc4\uc0b0 \ub85c\uc9c1\uc744 \uc815\uc758\ud574\uc8fc\ub3c4\ub85d \ud558\uc790. \uadf8\ub7ec\uba74 \ud638\ucd9c\ud558\ub294 \ucabd\uc5d0\uc11c\ub294 \ub2e4\ud615\uc131 \ubc84\uc804\uc758 \uacf5\uc5f0\ub8cc \uacc4\uc0b0 \ud568\uc218\ub97c \ud638\ucd9c\ud558\uae30\ub9cc \ud558\uba74\ub418\uace0, \uc7a5\ub974\uc5d0 \ub530\ub978 \uacc4\uc0b0 \ud568\uc218\ub294 \uc5b8\uc5b4\uc5d0\uc11c \ucc98\ub9ac\ud574\uc904 \uac83\uc774\ub2e4. \uc801\ub9bd \ud3ec\uc778\ud2b8\ub3c4 \ube44\uc2b7\ud55c \uad6c\uc870\ub85c \ub9cc\ub4e4\uc5b4\uc904 \uc218 \uc788\ub2e4."),(0,o.kt)("p",null,"\uadf8\ub807\ub2e4\uba74 \uba3c\uc800 \uacf5\uc5f0\ub8cc\uc640 \uc801\ub9bd \ud3ec\uc778\ud2b8 \uacc4\uc0b0 \ud568\uc218\ub97c \ub2f4\uc744 \ud074\ub798\uc2a4\ub97c \ub9cc\ub4e4\uc5b4\uc918\uc57c \ud55c\ub2e4."),(0,o.kt)("p",null,"\ucf54\ub4dc\ub97c \uc0b4\ud3b4\ubcf4\uc790. ",(0,o.kt)("inlineCode",{parentName:"p"},"enrichPerformance()")," \ud568\uc218\ub294 \uac01 \uacf5\uc5f0\uc758 \uc815\ubcf4\ub97c \uc911\uac04 \ub370\uc774\ud130 \uad6c\uc870\uc5d0 \ucc44\uc6cc\uc900\ub2e4. \ub0b4\ubd80\uc801\uc73c\ub85c ",(0,o.kt)("inlineCode",{parentName:"p"},"amountFor"),"\uc640 ",(0,o.kt)("inlineCode",{parentName:"p"},"volumeCreditsFor"),"\ub97c \ud638\ucd9c\ud558\uc5ec \uacf5\uc5f0\ub8cc\uc640 \uc801\ub9bd \ud3ec\uc778\ud2b8\ub97c \uacc4\uc0b0\ud55c\ub2e4. \ub530\ub77c\uc11c \uc774 \ub450 \ud568\uc218\ub97c \uc804\uc6a9 \ud074\ub798\uc2a4\ub85c \uc62e\uaca8\uc57c \ud55c\ub2e4."),(0,o.kt)("p",null,"\uacf5\uc5f0 \uad00\ub828 \ub370\uc774\ud130\ub97c \uacc4\uc0b0\ud558\ub294 \ud568\uc218\ub4e4\ub85c \uad6c\uc131\ub418\ubbc0\ub85c ",(0,o.kt)("inlineCode",{parentName:"p"},"PerformanceCalculator"),"\ub77c\uace0 \uc774\ub984 \ubd99\uc5ec\uc8fc\uc790."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:"{2-5,13-18}","{2-5,13-18}":!0},"function enrichPerformance(aPerformance) {\n  const calculator = new PerformanceCalculator( // \uacf5\uc5f0\ub8cc \uacc4\uc0b0\uae30 \uc0dd\uc131\n    aPerformance,\n    playFor(aPerformance) // \uacf5\uc5f0 \uc815\ubcf4\ub97c \uacc4\uc0b0\uae30\ub85c \uc804\ub2ec\n  );\n  const result = Object.assign({}, aPerformance);\n  result.play = playFor(result);\n  result.amount = amountFor(result);\n  result.volumeCredits = volumeCreditsFor(result);\n  return result;\n}\n\nclass PerformanceCalculator {\n  constructor(aPerformance, aPlay) {\n    this.performance = aPerformance;\n    this.play = aPlay;\n  }\n}\n")),(0,o.kt)("p",null,"\uc544\uc9c1 \ud560 \uc218 \uc788\ub294 \uc77c\uc774 \uc5c6\ub2e4. \uae30\uc874 \ucf54\ub4dc\uc5d0\uc11c \ud558\ub358 \ub3d9\uc791 \uba87 \uac00\uc9c0\ub97c \ud074\ub798\uc2a4\ub85c \uc62e\uaca8\ubcf4\uc790."),(0,o.kt)("h3",{id:"12-amountfor\uc5d0\uc11c-performancecalculator\uc758-\uba54\uc11c\ub4dc\ub97c-\ud638\ucd9c\ud558\ub3c4\ub85d-\ud558\uae30-\ud568\uc218-\uc62e\uae30\uae30---81\uc808"},"12. amountFor\uc5d0\uc11c PerformanceCalculator\uc758 \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud558\ub3c4\ub85d \ud558\uae30 (\ud568\uc218 \uc62e\uae30\uae30 - 8.1\uc808)"),(0,o.kt)("p",null,"\uacf5\uc5f0\ub8cc \uacc4\uc0b0 \ucf54\ub4dc\ub97c \ud074\ub798\uc2a4 \uc548\uc624\ub85c \uc62e\uae30\uace0, \uc6d0\ubcf8 \ub85c\uc9c1\uc5d0\uc11c\ub294 PerformanceCalculator\ub97c \ud638\ucd9c\ud558\ub3c4\ub85d \uc218\uc815\ud574\uc8fc\uc790. \ubb38\uc81c \uc5c6\uc5c8\ub2e4\uba74 \uc801\ub9bd \ud3ec\uc778\ud2b8 \ub610\ud55c \uac19\uc740 \ubc29\uc2dd\uc73c\ub85c \uc62e\uaca8\uc900\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="class PerformanceCalculator"',title:'"class','PerformanceCalculator"':!0},'get amount() {\n  let result = 0;\n  switch (this.play.type) {\n    case "tragedy":\n    // ...\n}\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="function amountFor"',title:'"function','amountFor"':!0},"function amountFor(aPerformance) {\n  return new PerformanceCalculator(aPerformance, playFor(aPerformance).amount);\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'{7-9} title="function enrichPerformance()"',"{7-9}":!0,title:'"function','enrichPerformance()"':!0},"function enrichPerformance(aPerformance) {\n  const calculator = new PerformanceCalculator( // \uacf5\uc5f0\ub8cc \uacc4\uc0b0\uae30 \uc0dd\uc131\n    aPerformance,\n    playFor(aPerformance) // \uacf5\uc5f0 \uc815\ubcf4\ub97c \uacc4\uc0b0\uae30\ub85c \uc804\ub2ec\n  );\n  const result = Object.assign({}, aPerformance);\n  result.play = calculator.play;\n  result.amount = calculator.amount;\n  result.volumeCredits = calculator.volumeCredits;\n  return result;\n}\n")),(0,o.kt)("h3",{id:"13-\uacf5\uc5f0\ub8cc-\uacc4\uc0b0\uae30\ub97c-\ub2e4\ud615\uc131-\ubc84\uc804\uc73c\ub85c-\ub9cc\ub4e4\uae30-\ud0c0\uc785-\ucf54\ub4dc\ub97c-\uc11c\ube0c\ud074\ub798\uc2a4\ub85c-\ubc14\uafb8\uae30---126\uc808-\uc0dd\uc131\uc790\ub97c-\ud329\ud130\ub9ac-\ud568\uc218\ub85c-\ubc14\uafb8\uae30---118\uc808"},"13. \uacf5\uc5f0\ub8cc \uacc4\uc0b0\uae30\ub97c \ub2e4\ud615\uc131 \ubc84\uc804\uc73c\ub85c \ub9cc\ub4e4\uae30 (\ud0c0\uc785 \ucf54\ub4dc\ub97c \uc11c\ube0c\ud074\ub798\uc2a4\ub85c \ubc14\uafb8\uae30 - 12.6\uc808, \uc0dd\uc131\uc790\ub97c \ud329\ud130\ub9ac \ud568\uc218\ub85c \ubc14\uafb8\uae30 - 11.8\uc808)"),(0,o.kt)("p",null,"\ub85c\uc9c1\uc744 \ud074\ub798\uc2a4\ub85c \uc62e\uacbc\uc73c\ub2c8 \uc774\uc81c \ub2e4\ud615\uc131\uc744 \uc9c0\uc6d0\ud574\ubcf4\uc790. \uac00\uc7a5 \uba3c\uc800 \ud560 \uc77c\uc740 \ud0c0\uc785 \ucf54\ub4dc \ub300\uc2e0 \uc11c\ube0c\ud074\ub798\uc2a4\ub97c \uc0ac\uc6a9\ud558\ub3c4\ub85d \ud558\ub294 \uac83\uc774\ub2e4. (",(0,o.kt)("inlineCode",{parentName:"p"},"\ud0c0\uc785 \ucf54\ub4dc\ub97c \uc11c\ube0c\ud074\ub798\uc2a4\ub85c \ubc14\uafb8\uae30 - 12.6\uc808"),")"),(0,o.kt)("p",null,"PerformanceCalculator\uc758 \uc11c\ube0c\ud074\ub798\uc2a4\ub4e4\uc744 \uc900\ube44\ud558\uace0 createStatementData()\uc5d0\uc11c \uadf8 \uc911 \uc801\ud569\ud55c \uc11c\ube0c\ud074\ub798\uc2a4\ub97c \uc0ac\uc6a9\ud558\uac8c \ub9cc\ub4e4\uc5b4\uc57c \ud55c\ub2e4."),(0,o.kt)("p",null,"\ub531 \ub9de\ub294 \uc11c\ube0c\ud074\ub798\uc2a4\ub97c \uc0ac\uc6a9\ud558\ub824\uba74 \uc0dd\uc131\uc790 \ub300\uc2e0 \ud568\uc218\ub97c \ud638\ucd9c\ud558\ub3c4\ub85d \ubc14\uafd4\uc57c \ud55c\ub2e4. (\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8\uc5d0\uc11c\ub294 \uc0dd\uc131\uc790\uac00 \uc11c\ube0c\ud074\ub798\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \ubc18\ud658\ud560 \uc218 \uc5c6\uae30 \ub54c\ubb38\uc774\ub2e4?)"),(0,o.kt)("p",null,"\uadf8\ub798\uc11c ",(0,o.kt)("inlineCode",{parentName:"p"},"\uc0dd\uc131\uc790\ub97c \ud329\ud130\ub9ac \ud568\uc218\ub85c \ubc14\uafb8\uae30"),"\ub97c \uc801\uc6a9\ud55c\ub2e4. \ub2e4\uc74c\uacfc \uac19\uc774 \ud329\ud130\ub9ac \ud568\uc218\ub97c \uc774\uc6a9\ud558\uba74 \uc11c\ube0c\ud074\ub798\uc2a4 \uc911\uc5d0 \uc5b4\ub5a4 \uac83\uc744 \uc0dd\uc131\ud560\uc9c0 \uc120\ud0dd\ud560 \uc218 \uc788\ub2e4."),(0,o.kt)("p",null,"amount \uba54\uc11c\ub4dc\ub294 \uc11c\ube0c\ud074\ub798\uc2a4\uc5d0\uc11c \ud638\ucd9c\ud558\ub3c4\ub85d \ub418\uc5b4\uc788\uc73c\ubbc0\ub85c \uc288\ud37c\ud074\ub798\uc2a4\uc5d0\uc11c\ub294 \uc5d0\ub7ec\ub97c \ub9ac\ud134\ud558\ub3c4\ub85d \ub0a8\uaca8\ub450\uba74 \uc88b\ub2e4."),(0,o.kt)("p",null,"\uadf8\ub9ac\uace0 \uc77c\ubc18\uc801\uc778 \uacbd\uc6b0\ub97c \uae30\ubcf8\uc73c\ub85c \uc0bc\uc544 \uc288\ud37c\ud074\ub798\uc2a4\uc5d0 \ub0a8\uaca8\ub450\uace0, \uc7a5\ub974\ub9c8\ub2e4 \ub2ec\ub77c\uc9c0\ub294 \ubd80\ubd84\uc740 \ud544\uc694\ud55c \uacbd\uc6b0 \uc624\ubc84\ub77c\uc774\ub4dc \ud558\ub3c4\ub85d \ud558\uc790."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="function createStatementData()"',title:'"function','createStatementData()"':!0},"function enrichPerformance(aPerformance) {\n  // \uc0dd\uc131\uc790 \ub300\uc2e0 \ud329\ud130\ub9ac \ud568\uc218 \uc774\uc6a9\n  const calculator = createPerformanceCalculator(\n    aPerformance,\n    playFor(aPerformance) // \uacf5\uc5f0 \uc815\ubcf4\ub97c \uacc4\uc0b0\uae30\ub85c \uc804\ub2ec\n  );\n  const result = Object.assign({}, aPerformance);\n  result.play = calculator.play;\n  result.amount = calculator.amount;\n  result.volumeCredits = calculator.volumeCredits;\n  return result;\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'function createPerformanceCalculator(aPerformance, aPlay) {\n  switch (aPlay.type) {\n    case "tragedy":\n      return new TragedyCalculator(aPerformance, aPlay);\n    case "comedy":\n      return new ComedyCalculator(aPerformance, aPlay);\n    default:\n      throw new Error(`\uc54c \uc218 \uc5c6\ub294 \uc7a5\ub974: ${aPlay.type}`);\n  }\n\n  get amount() {\n    throw new Error(`\uc11c\ube0c\ud074\ub798\uc2a4\uc5d0\uc11c \ucc98\ub9ac\ud558\ub3c4\ub85d \uc124\uacc4\ub418\uc5c8\uc2b5\ub2c8\ub2e4.`)\n  }\n\n  get volumeCredits() {\n    return Math.max(this.performance.audience - 30, 0)\n  }\n}\n\nclass TragedyCalculator extends PerformanceCalculator {}\nclass ComedyCalculator extends PerformanceCalculator {}\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="class ComedyCalculator"',title:'"class','ComedyCalculator"':!0},"get volumeCredits() {\n  return super.volumeCredits + Math.floor(this.performance.audience / 5)\n}\n")),(0,o.kt)("h2",{id:"-after-refactoring"},":: After Refactoring"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// statement.js\nexport { statement };\nexport { htmlStatement };\n\nimport { createStatementData } from "./createStatementData.js";\n\nfunction usd(aNumber) {\n  return new Intl.NumberFormat("en-US", {\n    style: "currency",\n    currency: "USD",\n    minimumFractionDigits: 2,\n  }).format(aNumber / 100);\n}\n\nfunction renderPlainText(statementData) {\n  let result = `Statement for ${statementData.customer}\\n`;\n  for (let perf of statementData.performances) {\n    result += `  ${perf.play.name}: ${usd(perf.amount)} (${\n      perf.audience\n    } seats)\\n`;\n  }\n\n  result += `Amount owed is ${usd(statementData.totalAmount)}\\n`;\n  result += `You earned ${statementData.totalVolumeCredits} credits\\n`;\n  return result;\n}\n\nfunction renderHtml(data) {\n  let result = `<h1>Statement for ${data.customer}</h1>\\n`;\n  result += "<table>\\n";\n  result += "<tr><th>play</th><th>seats</th><th>cost</th></tr>";\n  for (let perf of data.performances) {\n    result += `  <tr><td>${perf.play.name}</td><td>${perf.audience}</td>`;\n    result += `<td>${usd(perf.amount)}</td></tr>\\n`;\n  }\n  result += "</table>\\n";\n  result += `<p>Amount owed is <em>${usd(data.totalAmount)}</em></p>\\n`;\n  result += `<p>You earned <em>${data.totalVolumeCredits}</em> credits</p>\\n`;\n  return result;\n}\n\nfunction htmlStatement(invoice, plays) {\n  return renderHtml(createStatementData(invoice, plays));\n}\n\nfunction statement(invoice, plays) {\n  return renderPlainText(createStatementData(invoice, plays));\n}\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'// createStatementData.js\nexport { createStatementData };\n\nclass PerformanceCalculator {\n  constructor(aPerformance, aPlay) {\n    this.performance = aPerformance;\n    this.play = aPlay;\n  }\n\n  get amount() {\n    throw new Error("subclass responsibility");\n  }\n}\n\nclass TragedyCalculator extends PerformanceCalculator {\n  get amount() {\n    let result = 40000;\n    if (this.performance.audience > 30) {\n      result += 1000 * (this.performance.audience - 30);\n    }\n    return result;\n  }\n\n  get volumeCredits() {\n    return Math.max(this.performance.audience - 30, 0);\n  }\n}\n\nclass ComedyCalculator extends PerformanceCalculator {\n  get amount() {\n    let result = 30000;\n    if (this.performance.audience > 20) {\n      result += 10000 + 500 * (this.performance.audience - 20);\n    }\n    result += 300 * this.performance.audience;\n    return result;\n  }\n\n  get volumeCredits() {\n    let volumeCredits = Math.max(this.performance.audience - 30, 0);\n    // add extra credit for every ten comedy attendees\n    volumeCredits += Math.floor(this.performance.audience / 5);\n    return volumeCredits;\n  }\n}\n\nfunction createPerformanceCalculator(aPerformance, aPlay) {\n  switch (aPlay.type) {\n    case "tragedy":\n      return new TragedyCalculator(aPerformance, aPlay);\n    case "comedy":\n      return new ComedyCalculator(aPerformance, aPlay);\n    default:\n      throw new Error(`unknown type: ${aPlay.type}`);\n  }\n}\n\nfunction createStatementData(invoice, plays) {\n  let statementData = {};\n  statementData.customer = invoice.customer;\n  statementData.performances = invoice.performances.map(enhancePerformance);\n  statementData.totalVolumeCredits = totalVolumeCredits(statementData);\n  statementData.totalAmount = totalAmount(statementData);\n  return statementData;\n\n  function enhancePerformance(aPerformance) {\n    const calculator = createPerformanceCalculator(\n      aPerformance,\n      playFor(aPerformance)\n    );\n    const result = Object.assign({}, aPerformance);\n    result.play = calculator.play;\n    result.amount = calculator.amount;\n    result.volumeCredits = calculator.volumeCredits;\n    return result;\n  }\n\n  function totalVolumeCredits(statementData) {\n    return statementData.performances.reduce(\n      (total, performance) => total + performance.volumeCredits,\n      0\n    );\n  }\n\n  function totalAmount(statementData) {\n    return statementData.performances.reduce(\n      (total, aPerformance) => total + aPerformance.amount,\n      0\n    );\n  }\n\n  function playFor(aPerformance) {\n    return plays[aPerformance.playID];\n  }\n}\n')),(0,o.kt)("h2",{id:"\ub9c8\ubb34\ub9ac"},"\ub9c8\ubb34\ub9ac"),(0,o.kt)("p",null,"\uc704 \uc608\uc81c\uc5d0\uc11c \uc6b0\ub9ac\ub294 \uc5ec\ub7ec\uac00\uc9c0 \uc790\uc798\ud55c \ub9ac\ud329\ud130\ub9c1 \uae30\ubc95\uc758 \ub2e8\uacc4\ub97c \ubc1f\uc73c\uba70 \ucf54\ub4dc\ub97c \uace0\uccd0\ub098\uac14\ub2e4. \ud55c\ubc88\uc5d0 \ucf54\ub4dc\ub97c \uc0c8\ub85c \uc9dc\ub294 \uac83\uc774 \uc544\ub2c8\ub77c, \ucd5c\uc885\uc801\uc73c\ub85c\ub294 \uc0ac\ub77c\uc9c8 \ud568\uc218\ub77c\ub3c4 \uc911\uac04 \ub2e8\uacc4\ub85c\uc11c \ucf54\ub4dc\ub97c \uc815\ub9ac\ud558\ub294\ub370 \ud544\uc694\ud558\ub2e4\uba74 \ub2e8\uacc4\ubcc4\ub85c \uc815\ub9ac\ud558\uba74\uc11c \ub098\uc544\uac14\ub2e4."),(0,o.kt)("p",null,"\uc704\uc5d0\uc11c \uc9c4\ud589\ud55c \ub9ac\ud329\ud130\ub9c1\uc740 \ud06c\uac8c \uc138 \ub2e8\uacc4\ub85c \uc9c4\ud589\ub410\ub2e4."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\uc6d0\ubcf8 \ud568\uc218\ub97c \uc911\ucca9 \ud568\uc218 \uc5ec\ub7ec \uac1c\ub85c \ub098\ub234\ub2e4"),(0,o.kt)("li",{parentName:"ol"},"\ub2e8\uacc4 \ucabc\uac1c\uae30\ub97c \uc801\uc6a9\ud574\uc11c \uacc4\uc0b0 \ucf54\ub4dc\uc640 \ucd9c\ub825 \ucf54\ub4dc\ub97c \ubd84\ub9ac\ud588\ub2e4"),(0,o.kt)("li",{parentName:"ol"},"\uacc4\uc0b0 \ub85c\uc9c1\uc744 \ub2e4\ud615\uc131\uc73c\ub85c \ud45c\ud604\ud588\ub2e4")),(0,o.kt)("p",null,"\uc774\ubc88 \uc608\uc2dc\ub97c \ud1b5\ud574 \uc55e\uc73c\ub85c \uc9c4\ud589\ud560 \ub9ac\ud329\ud130\ub9c1\uc774 \uc5b4\ub5a4 \ub2e8\uacc4\ub85c, \uc5b4\ub5a4 \ub9ac\ub4ec\uc73c\ub85c \uc9c4\ud589\ub418\ub294\uc9c0 \uac10\uc744 \uc7a1\uc558\uae30\ub97c \ubc14\ub780\ub2e4."))}f.isMDXComponent=!0}}]);